export const retried=__GLOBAL_ASYNC_TO_PROMISES__._async(function(bail,currentAttempt){let data;return __GLOBAL_ASYNC_TO_PROMISES__._await(fetch(url),function(res){return __GLOBAL_ASYNC_TO_PROMISES__._invoke(function(){if(opts.throwOnHTTPError&&(res.status<200||res.status>=300)){return __GLOBAL_ASYNC_TO_PROMISES__._invoke(function(){if(type==='application/json'){return __GLOBAL_ASYNC_TO_PROMISES__._await(res.json(),function(_res$json){data=_res$json;});}},__GLOBAL_ASYNC_TO_PROMISES__._empty);}else return __GLOBAL_ASYNC_TO_PROMISES__._invoke(function(){if(res.status===204){// Since 204 means no content we return null
data=null;}else{return __GLOBAL_ASYNC_TO_PROMISES__._await(res.json(),function(_res$json2){data=_res$json2;});}},__GLOBAL_ASYNC_TO_PROMISES__._empty);},function(){return data;});});});